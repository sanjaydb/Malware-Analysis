//Test-01.c
// Author SDB
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <conio.h> // For getch() function

#define MAX_PASSWORD_LENGTH 12 // Maximum password length (excluding null terminator)

int main(void) {
    char password[] = "DDBHALERAO"; // Password to compare against
    char recvpassword[MAX_PASSWORD_LENGTH + 1]; // Array to store received password
    char ch; // Variable to store each character read from user input
    int i = 0; // Index for tracking current position in recvpassword array

    printf("\n Enter Password : ");

    // Loop to read password character by character without echoing to the screen
    while (1) {
        ch = _getch(); // Read character without echoing to the screen

        // Check for Enter key to terminate input
        if (ch == '\r' || ch == '\n') {
            recvpassword[i] = '\0'; // Null-terminate the string
            break;
        }
        // Check for Backspace key to handle character deletion
        else if (ch == '\b' && i > 0) {
            printf("\b \b"); // Erase the character from the screen
            i--;
        }
        // Store the character in recvpassword if it's not a special key (like Backspace)
        else if (i < MAX_PASSWORD_LENGTH) {
            recvpassword[i] = ch;
            printf("*"); // Print asterisk (*) instead of the actual character
            i++;
        }
    }

    // Check if received password matches the expected password
    if (strcmp(password, recvpassword) == 0) {
        printf("\n Welcome ... ");
        // startapplication(); // Give access and start the application
    }
    else {
        printf("\n Access Denied !!! ");
        printf("\a\a\a\a\a\a\a"); // Sound alert to indicate access denied
        exit(1);
    }

    return 0;
} 
